# §1 プロセス / 1.1 序論 / 1.1.1 接頭辞 (prefix)

[ホーアCSPモデルの理論][TIL][p1-p4]

## イベント

イベントの集合を考えるチョコとペニーはドリンクと円にしよう

```
type Event = in100yen  --100円を入れる
           | in200yen  --200円を入れる
           | small     --小さいジュースを出す
           | large     --大きいジュースを出す
           | out100yen --100円お釣りを返す
```

各イベント名はイベント **クラス** を表す。同一クラスのイベントは異なる時点で何回も発生する可能性がある。

というわけで、上記はよくある直和型のような表現をしてみた次第。

つづいて、

> あるオブジェクトを記述するために適切と考えられるイベントの名前集合を,「アルファベット」という.

とあるので、 `type Event` じゃなくって、`type Alphabet` が適切かな？

ここで気にしたいのは、 in100yen と small だ。ここでは「オブジェクト」とは自動販売機のことなのだが、自販機が起こすイベントとユーザーが起こすイベントが混じってる。この事については

> アルファベットを選択するに際し,オブジェクトによって起動されたイベント(chocとする)とオブジェクト外の他の要因により起動されたもの(たとえばcoin)とを区別する必要はない.このような因果関係を廃城することで,理論と応用双方で大変な簡略化が可能となる.

とある。

そのほか、イベントを理解するにおいて、かきとめたこと。

* 各イベントの起生は、幅を持たず瞬間的で基本的な動作とみなす
  * したがって、広がりをもち、時間のかかる動作は、それの開始・終了というイベントついにより表現されなければならない
    * 当然、継続中に他のイベントが発生するのもありうる
* タイミングの問題は切り捨てた 
  * (なぜならば)応答時間が重要な場合にはr設計の論理的正確さとは別に扱うことができる
  * (なぜならば)高級言語について考えることができる
  * (そのけっか) あるイベントが別のイベントと同時に発生するか否かについては応える必要も等必要もなくなった
    * もし同期の問題などで２つのイベントの同時性が問われる場合は、それ自体を一つのイベントとして表現する

## プロセス

> オブジェクトの行動パターンが,アルファベットとして選ばれたイベントの有限集合を用いて記述されるとき,それを表すためプロセスという言葉を用いよう.

*** 文法の整理

|                          |規則|例|
|--------------------------|---------------------------------------------|--------------------------------|
|*イベント*                |小文字で書かれたword, 小文字の文字＼x,y,z    | coin choc in2p out1p a b c d   |
|*プロセス*                |大文字で書かれたword, 大文字の文字＼A,B,C,X,Y| VMS VMC P Q R                  |
|*イベント変数*            |文字 x, y, z                                 | x y z                          |
|*イベント集合*            |文字 A, B, C                                 | a b c                          |
|*プロセス変数*            |文字 X, Y                                    | X Y                            |
|*プロセスのアルファベット*|α<sub>プロセス名</sub>                       |α<sub>VMS</sub> α<sub>VMC</sub> |

最後のは

α<sub>VMS</sub> = {coin, choc}

みたいに書く。


* STOP<sub>A</sub> は破壊されたオブジェクトの記述
  * Aに属するいかなるイベントも実際には実行しない

### プロセス式


x : Event, P : Process ⇒

(x→P)

硬貨を一つ消費した後壊れるVendingMacheneSimple VMS

(coin→STOP<sub>αVMS</sub>)

酷いマシンだ...

二人の顧客が利用した後壊れる自動販売機

(coin→(choc→(coin→(choc→STOP<sub>αVMS</sub>))))

だだし → は右結合なので、カッコは省ける

演算子 → は　右辺にプロセスをとり左辺にただひとつのイベントをとる。よって

```
P→Q
```

```
x→y
```

は, いずれも構文エラー。

後者は 

```
x→(y→STOP)
```

と書く。



